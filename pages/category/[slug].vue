<script setup lang="ts">
import type { post } from '~~/types'

const route = useRoute()
let slug = route.params.slug as string
useHead({
  title: slug,
})
const { data: posts } = useLazyAsyncData('category-posts', () => GqlGetRecentPosts())
</script>

<template>
  <main class="grid grid-cols-1 lg:grid-cols-12 gap-12 pb-12">
    <!-- <div class="lg:col-span-8 col-span-1">
      <template v-if="posts">
        <template v-if="!posts.categories.length">
          <h2 class="text-center text-xl text-white mt-3">No posts for that Category, We Will add some More, stay tuned</h2>
        </template>
        <template v-for="post in posts.categories" :key="post.id">
          <PostCard :post="(post as post)" />
        </template>
      </template>
    </div>
    <div class="lg:col-span-4 col-span-1">
      <div class="lg:sticky relative top-8">
        <PostWidget />
        <CategoriesWidget />
      </div>
    </div> -->
  </main>
</template>
